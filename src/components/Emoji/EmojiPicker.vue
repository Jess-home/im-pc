<template>
  <div class="emoji-picker" :class="{hidden: hideEmoji}">
    <!-- 表情滚动区域 -->
    <div class="emoji-scroll">
      <div class="emoji-grid">
        <div 
          class="emoji-item" 
          v-for="(emoji, index) in currentEmojiList" 
          :key="index"
          @click="addEmoji(emoji)"
        >
          {{ emoji }}
        </div>
      </div>
    </div>
    
    <!-- 底部分类切换 -->
    <div class="category-tabs">
      <div 
        class="tab-item" 
        v-for="(cat, index) in categories" 
        :key="index"
        :class="{active: currentCategory === cat.key}"
        @click="switchCategory(cat.key)"
      >
        <span class="tab-icon">{{ cat.icon }}</span>
        <!-- <span class="tab-name">{{ cat.name }}</span> -->
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'EmojiPicker',
  props: {
    hideEmoji: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      currentCategory: 'smileys',
      // 表情数据
      emojiData: {
        "smileys": ["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃",
    "😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙",
    "🥲","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫",
    "🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬",
    "🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢",
    "🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","🥸",
    "😎","🤓","🧐","😕","😟","🙁","☹️","😮","😯","😲",
    "😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱",
    "😖","😣","😞","😓","😩","😫","🥱","😤","😡","😠",
    "🤬","😈","👿","💀","☠️","💩","🤡","👹","👺","👻",
    "👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀",
    "😿","😾","🙈","🙉","🙊","💋","💌","💘","💝","💖",
    "💗","💓","💞","💕","💟","❣️","💔","❤️","🧡","💛",
    "💚","💙","💜","🤎","🖤","🤍","💯","💢","💥","💫",
    "💦","💨","🕳️","💬","👁️‍🗨️","🗨️","🗯️","💭","💤"],
        "people": ["👋","🤚","🖐️","✋","🖖","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏","✍️","💅","🤳","💪","🦾","🦿","🦵","🦶","👂","🦻","👃","🧠","🫀","🫁","🦷","🦴","👀","👁️","👅","👄","👶","🧒","👦","👧","🧑","👱","👨","🧔","👩","🧓","👴","👵","🙍","🙎","🙅","🙆","💁","🙋","🧏","🙇","🤦","🤷"],
        "animals": ["🐵","🐒","🦍","🦧","🐶","🐕","🦮","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🦬","🐮","🐂","🐃","🐄","🐷","🐖","🐗","🐽","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦣","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿️","🦫","🦔","🦇","🐻","🐨","🐼","🦥","🦦","🦨","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊️","🦅","🦆","🦢","🦉","🦩","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖"],
        "food": ["🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🍎","🍏","🍐","🍑","🍒","🍓","🫐","🥝","🍅","🫒","🥥","🥑","🍆","🥔","🥕","🌽","🌶️","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🫔","🥙","🧆","🥚","🍳","🥘","🍲","🫕","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡"],
        "travel": ["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🦯","🦽","🦼","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋"],
        "activities": ["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛼","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️","🤼","🤸","🤺","⛹️","🤾","🏌️","🏇","🧘","🏄","🏊","🤽","🚣","🧗","🚵","🚴","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🪘","🎷","🎺","🪗","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],
        "objects": ["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","🧾","💎","⚖️","🪜","🧰","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🪤","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","🪦","⚱️","🏺","🔮","📿","🧿","💈","⚗️","🔭","🔬","🕳️","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🪠","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪥","🧽","🪣","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🪞","🪟","🛍️","🛒","🎁","🎈","🎏","🎀","🪄","🪅","🪆","🎊","🎉","🎎","🏮","🎐","🧧"],
        "symbols": ["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","♾️","💲","💱","™️","©️","®️","〰️","➰","➿","🔚","🔙","🔛","🔝","🔜","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫"]
      },
      // 分类配置
      categories: [
        { key: 'smileys', name: '表情', icon: '😀' },
        { key: 'people', name: '人物', icon: '👋' },
        { key: 'animals', name: '动物', icon: '🐶' },
        { key: 'food', name: '食物', icon: '🍔' },
        { key: 'travel', name: '旅行', icon: '✈️' },
        { key: 'activities', name: '活动', icon: '⚽' },
        { key: 'objects', name: '物品', icon: '💡' },
        { key: 'symbols', name: '符号', icon: '❤️' }
      ]
    }
  },
  computed: {
    currentEmojiList() {
      return this.emojiData[this.currentCategory] || [];
    }
  },
  methods: {
    // 切换分类
    switchCategory(key) {
      this.currentCategory = key;
    },
    
    // 添加表情
    addEmoji(emoji) {
      this.$emit('select', emoji);
    }
  }
}
</script>

<style scoped>
.emoji-picker {
  width: 100%;
  height: 225px;
  background-color: #f7f7f7;
  display: flex;
  flex-direction: column;
  transition: all 0.3s;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.emoji-picker.hidden {
  height: 0;
  overflow: hidden;
}

/* 表情滚动区域 */
.emoji-scroll {
  flex: 1;
  width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}

/* 自定义滚动条样式 */
.emoji-scroll::-webkit-scrollbar {
  width: 6px;
}

.emoji-scroll::-webkit-scrollbar-thumb {
  background-color: #c1c1c1;
  border-radius: 3px;
}

.emoji-scroll::-webkit-scrollbar-thumb:hover {
  background-color: #a8a8a8;
}

.emoji-scroll::-webkit-scrollbar-track {
  background-color: #f1f1f1;
}

.emoji-grid {
  display: flex;
  flex-wrap: wrap;
  padding: 10px;
}

.emoji-item {
  width: 12.5%;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 25px;
  cursor: pointer;
  transition: all 0.2s;
  border-radius: 5px;
}

.emoji-item:hover {
  background-color: #e0e0e0;
  transform: scale(1.2);
}

.emoji-item:active {
  transform: scale(1.3);
  background-color: #d0d0d0;
}

/* 底部分类切换 */
.category-tabs {
  display: flex;
  height: 50px;
  background-color: #fff;
  border-top: 1px solid #e5e5e5;
  box-shadow: 0 -1px 5px rgba(0, 0, 0, 0.05);
}

.tab-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.2s;
  cursor: pointer;
}

.tab-item:hover {
  background-color: #f5f5f5;
}

.tab-item:active {
  background-color: #f0f0f0;
}

.tab-icon {
  font-size: 20px;
  margin-bottom: 2px;
}

.tab-name {
  font-size: 10px;
  color: #666;
}

.tab-item.active .tab-name {
  color: #007AFF;
  font-weight: bold;
}

.tab-item.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 30px;
  height: 2px;
  background-color: #007AFF;
  border-radius: 1px;
}
</style>